<div class="attachment__container">
  <div class="attachment__title">
    <button mat-icon-button class="attachment__title-close" (click)="cancel()">
      <mat-icon>close</mat-icon>
    </button>
    <div class="attachment__title-text">
      Upload attachment
    </div>
    <button mat-icon-button class="attachment__title-ok" (click)="done()" [disabled]="!fileToUpload || inProgress">
      OK
    </button>
  </div>
  <div class="attachment__file"
    *ngFor="let selectedFile of selectedFiles; let index = index; trackBy: selectedFileTracking;">
    <div class="attachment__icon">
      <mat-icon>attachment</mat-icon>
    </div>
    <div class="attachment__filename">
      {{ selectedFile }}
    </div>
    <div class="attachment__delete">
      <button mat-icon-button class="attachment__delete-button" (click)="remove(index)">
        <mat-icon>delete</mat-icon>
      </button>
    </div>
    <div *ngIf="inProgress">
      <mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
    </div>
  </div>
  <file-upload-drag-drop (onFileRetrieval)="fileSelect($event)" *ngIf="!selectedFiles"></file-upload-drag-drop>
</div>
<div class="attachment__action">
  <button mat-button class="attachment__action-button" (click)="cancel()">cancel</button>
  <button mat-button class="attachment__action-button" (click)="done()"
    [disabled]="!fileToUpload || inProgress">done</button>
</div>